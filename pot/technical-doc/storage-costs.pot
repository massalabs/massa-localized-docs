# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2022, Massa Labs
# This file is distributed under the same license as the Massa Localized Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Massa Localized Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-03-12 00:55+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../technical-doc/storage-costs.rst:6
#: fab74a111eb44116b2000bfcb937e1d3
msgid "Storage Costs"
msgstr ""

#: ../../technical-doc/storage-costs.rst:9
#: 780146c7513d47eab6c6ea8d326df152
msgid "Explanations"
msgstr ""

#: ../../technical-doc/storage-costs.rst:11
#: ff1b9f6d2cf7485e8e28128be8c8f616
msgid "In Massa the ledger is shared across all nodes of the network. We need to set a size limit to be able to run a node without having 100TB of storage which will cause a barrier for adoption and running nodes at home. We chose to limit the size to 1TB. Everyone can store data until the ledger reach 1TB. But how can we ensure this limit ?"
msgstr ""

#: ../../technical-doc/storage-costs.rst:15
#: eec88b2cd9184b5c9c447e4d3508855e
msgid "We chose to force users to lock coins when they claim storage space and so we created a correlation with storage and circulating coins."
msgstr ""

#: ../../technical-doc/storage-costs.rst:18
#: bc38e1b29a134035b7aa2bfeadb32b0d
msgid "For each byte of storage you claim (for your address and balance, a key in your datastore, bytecode, ...) you need to lock coins. The coins are released when you release your space in the storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:21
#: 31e8993a0d1f4ba9aa41be2d164646bb
msgid "The amount of coins you need to lock for one byte is 0.00025 Massa. This value has been chosen so that if half of the coins (250 000 000 Massa) are locked, we will reach the 1TB."
msgstr ""

#: ../../technical-doc/storage-costs.rst:24
#: 77d85468920b4b0f97c41d535012d45f
msgid "As balances are stored as `varint <https://developers.google.com/protocol-buffers/docs/encoding#varints>`__ in the ledger their size can vary. To avoid difficulties and incomprehension we decided to use a fixed size for each balance. This size is 8 bytes and so initial ledger entry (address + balance) cost (8 + 32) * 0.00025 = 0.01 Massa . Datastore keys also have a variable size and so we decided to use a fixed size of 10 bytes for calculating storage cost."
msgstr ""

#: ../../technical-doc/storage-costs.rst:29
#: 4241492cf3bc4865a468feb79354b797
msgid "If you want to calculate the storage cost of your address in the ledger the formula is: address_size + balance_constant + bytecode_length + sum of (constants datastore key + value size) = 32 + 8 + bytecode.len() + sum_i(10 + datastore[i].len())) * 0.00025"
msgstr ""

#: ../../technical-doc/storage-costs.rst:33
#: 2b77497be44b4b6b87185c6deb01927f
msgid "The storage costs are always paid by the address that calls the ABI. For instance, if you are using the ABI `set_bytecode` or `set_bycode_for` you will be charged for the storage costs."
msgstr ""

#: ../../technical-doc/storage-costs.rst:37
#: 3147b5df169a4bc982525b6b28e814ef
msgid "Example"
msgstr ""

#: ../../technical-doc/storage-costs.rst:39
#: 2c73d78f8b4b4ad2af33d4706d424877
msgid "To create your address on the blockchain someone need to send at least 0.00025 * (32 + 8) = 0.01 Massa when sending the operation that will create your address (a transfer for example). This is the cost of creating your address and balance."
msgstr ""

#: ../../technical-doc/storage-costs.rst:42
#: bfb49a2d250c45dcb6194d1d86b7cf30
msgid "You want to store your birth date that is 30 bytes long in your datastore so you need to send an operation that will create a key in your datastore using a SC. This operation will cost you in storage costs at least 0.00025 * (10 + 30) = 0.01 Massa."
msgstr ""

#: ../../technical-doc/storage-costs.rst:46
#: 9d4ce422a4cf447fa827ef7c5441f959
msgid "Now you want to delete this entry on your datastore you will be refunded of the storage costs (0.02 Massa)."
msgstr ""

#: ../../technical-doc/storage-costs.rst:49
#: 5237524fa42a403fac529348bca03f12
msgid "Notes"
msgstr ""

#: ../../technical-doc/storage-costs.rst:51
#: a90738fac7224a4fb54cd02c20955131
msgid "In case of refund of the storage costs, after realeasing space, the address reimbursed is the one that calls the ABI, possibly different from the one that paid for this storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:54
#: 5898a6c331544762aa27f8b7fd7bfe78
msgid "In the case of a `CallSC` operation, the storage costs are paid by the SC."
msgstr ""

#: ../../technical-doc/storage-costs.rst:56
#: e5c21b9a53664ee997438354d9ecf30e
msgid "If you are a SC developer and you want your users to pay for the storage costs of your smart contract you can use the coins that are passed by the `coins` parameter of CallSC. You can also save their address in your datastore in order to refund them later."
msgstr ""
