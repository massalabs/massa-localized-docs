# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2022, Massa Labs
# This file is distributed under the same license as the Massa Localized Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Massa Localized Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2022-12-29 00:50+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../technical-doc/storage-costs.rst:3
#: 8477e061f7c14b3bbe895921eb5810a7
msgid "Storage Costs"
msgstr ""

#: ../../technical-doc/storage-costs.rst:6
#: 8483b887698d462588bec711af43eede
msgid "Explanations"
msgstr ""

#: ../../technical-doc/storage-costs.rst:8
#: cc0f469048f04fb991cdf3925f31bbaa
msgid "In Massa the ledger is shared across all nodes of the network. We need to set a size limit to be able to run a node without having 100TB of storage which will cause a barrier for adoption and running nodes at home. We chose to limit the size to 1TB. Everyone can store data until the ledger reach 1TB. But how can we ensure this limit ?"
msgstr ""

#: ../../technical-doc/storage-costs.rst:12
#: 5b35a53eee6f4f47998bbb9b5e7dfd86
msgid "We chose to force users to lock coins when they claim storage space and so we created a correlation with storage and circulating coins."
msgstr ""

#: ../../technical-doc/storage-costs.rst:14
#: 368e073f75b744c490a8472a7af279c8
msgid "For each byte of storage you claim (for your address and balance, a key in your datastore, bytecode, ...) you need to lock coins. The coins are released when you release your space in the storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:16
#: f53afca415e9433588b922df1e4c7dc9
msgid "The amount of coins you need to lock for one byte is 0.00025 Massa. This value has been chosen so that if half of the coins (250 000 000 Massa) are locked, we will reach the 1TB."
msgstr ""

#: ../../technical-doc/storage-costs.rst:18
#: a7b17218f1f74b3e80df4e8885f5084d
msgid "As balances are stored as `varint <https://developers.google.com/protocol-buffers/docs/encoding#varints>`__ in the ledger their size can vary. To avoid difficulties and incomprehension we decided to use a fixed size for each balance. This size is 8 bytes and so initial ledger entry (address + balance) cost (8 + 32) * 0.00025 = 0.01 Massa . Datastore keys also have a variable size and so we decided to use a fixed size of 10 bytes for calculating storage cost."
msgstr ""

#: ../../technical-doc/storage-costs.rst:21
#: f1cb8541afe14a80bf498d170010ccad
msgid "If you want to calculate the storage cost of your address in the ledger the formula is : address_size + balance_constant + bytecode_length + sum of (constants datastore key + value size) = 32 + 8 + bytecode.len() + sum_i(10 + datastore[i].len())) * 0.00025"
msgstr ""

#: ../../technical-doc/storage-costs.rst:23
#: 89b4322e708e44c88cc372e376b4977a
msgid "The storage costs are always paid by the address that calls the ABI. For instance, if you are using the ABI `set_bytecode` or `set_bycode_for` you will be charged for the storage costs."
msgstr ""

#: ../../technical-doc/storage-costs.rst:26
#: 250360e998bd4658a2d86cff3146ce67
msgid "Example"
msgstr ""

#: ../../technical-doc/storage-costs.rst:28
#: 2f1397bc8b684d40833b8ee93ee9d83b
msgid "To create your address on the blockchain someone need to send at least 0.00025 * (32 + 8) = 0.01 Massa when sending the operation that will create your address (a transfer for example). This is the cost of creating your address and balance."
msgstr ""

#: ../../technical-doc/storage-costs.rst:30
#: 390563f799e84a07a0e1343e9b3db97c
msgid "You want to store your birth date that is 30 bytes long in your datastore so you need to send an operation that will create a key in your datastore using a SC. This operation will cost you in storage costs at least 0.00025 * (10 + 30) = 0.01 Massa."
msgstr ""

#: ../../technical-doc/storage-costs.rst:32
#: 3aec5b22fbdb48b3a14cde94bcada057
msgid "Now you want to delete this entry on your datastore you will be refunded of the storage costs (0.02 Massa)."
msgstr ""

#: ../../technical-doc/storage-costs.rst:35
#: 184faaee6a5e4812a054580e16158ec6
msgid "Notes"
msgstr ""

#: ../../technical-doc/storage-costs.rst:37
#: 62346ba3c88e4418b7e02c7dd9517ba7
msgid "In case of refund of the storage costs, after realeasing space, the address reimbursed is the one that calls the ABI, possibly different from the one that paid for this storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:39
#: cc35766590d24d3284f696cddcd251f5
msgid "In the case of a `CallSC` operation, the storage costs are paid by the SC."
msgstr ""

#: ../../technical-doc/storage-costs.rst:41
#: fd4442a555fb45d8aef6bd8a93d7a21e
msgid "If you are a SC developer and you want your users to pay for the storage costs of your smart contract you can use the coins that are passed by the `coins` parameter of CallSC. You can also save their address in your datastore in order to refund them later."
msgstr ""
