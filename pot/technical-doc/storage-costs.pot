# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2022, Massa Labs
# This file is distributed under the same license as the Massa Localized Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Massa Localized Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-01-16 00:51+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../technical-doc/storage-costs.rst:7
#: 62d54debcc2b48cdac247141ebfa28f4
msgid "Storage Costs"
msgstr ""

#: ../../technical-doc/storage-costs.rst:10
#: 844cca35c82b4c36b7f029c132a8032b
msgid "Explanations"
msgstr ""

#: ../../technical-doc/storage-costs.rst:12
#: b5cd569e605c45378206315c2172cc83
msgid "In Massa the ledger is shared across all nodes of the network. We need to set a size limit to be able to run a node without having 100TB of storage which will cause a barrier for adoption and running nodes at home. We chose to limit the size to 1TB. Everyone can store data until the ledger reach 1TB. But how can we ensure this limit ?"
msgstr ""

#: ../../technical-doc/storage-costs.rst:17
#: b19d1037b44247c695c1156933e84b39
msgid "We chose to force users to lock coins when they claim storage space and so we created a correlation with storage and circulating coins."
msgstr ""

#: ../../technical-doc/storage-costs.rst:20
#: efb756068f21473d94ae94950a194a99
msgid "For each byte of storage you claim (for your address and balance, a key in your datastore, bytecode, ...) you need to lock coins. The coins are released when you release your space in the storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:23
#: 05c1f012c9f54da5a290127472e00dc7
msgid "The amount of coins you need to lock for one byte is 0.00025 Massa. This value has been chosen so that if half of the coins (250 000 000 Massa) are locked, we will reach the 1TB."
msgstr ""

#: ../../technical-doc/storage-costs.rst:26
#: 605a3bd81b634920b76fad1869f733f4
msgid "As balances are stored as `varint <https://developers.google.com/protocol-buffers/docs/encoding#varints>`__ in the ledger their size can vary. To avoid difficulties and incomprehension we decided to use a fixed size for each balance. This size is 8 bytes and so initial ledger entry (address + balance) cost (8 + 32) * 0.00025 = 0.01 Massa . Datastore keys also have a variable size and so we decided to use a fixed size of 10 bytes for calculating storage cost."
msgstr ""

#: ../../technical-doc/storage-costs.rst:31
#: f4f15a50e9f345dd98b1ef9601721cb8
msgid "If you want to calculate the storage cost of your address in the ledger the formula is: address_size + balance_constant + bytecode_length + sum of (constants datastore key + value size) = 32 + 8 + bytecode.len() + sum_i(10 + datastore[i].len())) * 0.00025"
msgstr ""

#: ../../technical-doc/storage-costs.rst:35
#: 47b93dfc39be4bb1964e18bbc8d4736f
msgid "The storage costs are always paid by the address that calls the ABI. For instance, if you are using the ABI `set_bytecode` or `set_bycode_for` you will be charged for the storage costs."
msgstr ""

#: ../../technical-doc/storage-costs.rst:39
#: 1ba015b1f18e45ffa03a186847bf6100
msgid "Example"
msgstr ""

#: ../../technical-doc/storage-costs.rst:41
#: bbe4423dc6c64d718b3ff22b08cf0c5c
msgid "To create your address on the blockchain someone need to send at least 0.00025 * (32 + 8) = 0.01 Massa when sending the operation that will create your address (a transfer for example). This is the cost of creating your address and balance."
msgstr ""

#: ../../technical-doc/storage-costs.rst:45
#: d29944d7a85a46d9842b04845ca13931
msgid "You want to store your birth date that is 30 bytes long in your datastore so you need to send an operation that will create a key in your datastore using a SC. This operation will cost you in storage costs at least 0.00025 * (10 + 30) = 0.01 Massa."
msgstr ""

#: ../../technical-doc/storage-costs.rst:49
#: 25b9a494f36d488081e77354c476178a
msgid "Now you want to delete this entry on your datastore you will be refunded of the storage costs (0.02 Massa)."
msgstr ""

#: ../../technical-doc/storage-costs.rst:52
#: d081d7a4a2f040dd9a62b94dac56e020
msgid "Notes"
msgstr ""

#: ../../technical-doc/storage-costs.rst:54
#: a2406d8b0688461e9ddde2a229d8088b
msgid "In case of refund of the storage costs, after realeasing space, the address reimbursed is the one that calls the ABI, possibly different from the one that paid for this storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:57
#: 38982700ab7a4f28940b1a6786b2a272
msgid "In the case of a `CallSC` operation, the storage costs are paid by the SC."
msgstr ""

#: ../../technical-doc/storage-costs.rst:59
#: fe4f301d2f9746e6b50fc57ea1fa2d05
msgid "If you are a SC developer and you want your users to pay for the storage costs of your smart contract you can use the coins that are passed by the `coins` parameter of CallSC. You can also save their address in your datastore in order to refund them later."
msgstr ""
