# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2022, Massa Labs
# This file is distributed under the same license as the Massa Localized Docs package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: Massa Localized Docs \n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-04-01 00:51+0000\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#: ../../technical-doc/storage-costs.rst:6
#: 807e6d63321846f99f6649738967a0ba
msgid "Storage Costs"
msgstr ""

#: ../../technical-doc/storage-costs.rst:9
#: a6605fc0b7ac4e5a85f72783b78a1564
msgid "Explanations"
msgstr ""

#: ../../technical-doc/storage-costs.rst:11
#: 01e87381f9e646b3b15c056852967e27
msgid "In Massa the ledger is shared across all nodes of the network. We need to set a size limit to be able to run a node without having 100TB of storage which will cause a barrier for adoption and running nodes at home. We chose to limit the size to 1TB. Everyone can store data until the ledger reach 1TB. But how can we ensure this limit ?"
msgstr ""

#: ../../technical-doc/storage-costs.rst:15
#: 462dad5d482945fe8b92b64264447cfd
msgid "We chose to force users to lock coins when they claim storage space and so we created a correlation with storage and circulating coins."
msgstr ""

#: ../../technical-doc/storage-costs.rst:18
#: 5d8853eaf9534c199e361f43809bef67
msgid "For each byte of storage you claim (for your address and balance, a key in your datastore, bytecode, ...) you need to lock coins. The coins are released when you release your space in the storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:21
#: 7d2e1ea68a3f4278ba8956d395c8e193
msgid "The amount of coins you need to lock for one byte is 0.00025 Massa. This value has been chosen so that if half of the coins (250 000 000 Massa) are locked, we will reach the 1TB."
msgstr ""

#: ../../technical-doc/storage-costs.rst:24
#: de6c197ebf324b128e07eb30a084d758
msgid "As balances are stored as `varint <https://developers.google.com/protocol-buffers/docs/encoding#varints>`__ in the ledger their size can vary. To avoid difficulties and incomprehension we decided to use a fixed size for each balance. This size is 8 bytes and so initial ledger entry (address + balance) cost (8 + 32) * 0.00025 = 0.01 Massa . Datastore keys also have a variable size and so we decided to use a fixed size of 10 bytes for calculating storage cost."
msgstr ""

#: ../../technical-doc/storage-costs.rst:29
#: 25610a067c774ff3b3f4e997d5293c3f
msgid "If you want to calculate the storage cost of your address in the ledger the formula is: address_size + balance_constant + bytecode_length + sum of (constants datastore key + value size) = 32 + 8 + bytecode.len() + sum_i(10 + datastore[i].len())) * 0.00025"
msgstr ""

#: ../../technical-doc/storage-costs.rst:33
#: 95e69db89df246e9ba6d76fd6c9ca6e1
msgid "The storage costs are always paid by the address that calls the ABI. For instance, if you are using the ABI `set_bytecode` or `set_bycode_for` you will be charged for the storage costs."
msgstr ""

#: ../../technical-doc/storage-costs.rst:37
#: 747e3bb5e1f64b418120d95982dfb568
msgid "Example"
msgstr ""

#: ../../technical-doc/storage-costs.rst:39
#: 5c47cfb57f5b424691fdac580e028141
msgid "To create your address on the blockchain someone need to send at least 0.00025 * (32 + 8) = 0.01 Massa when sending the operation that will create your address (a transfer for example). This is the cost of creating your address and balance."
msgstr ""

#: ../../technical-doc/storage-costs.rst:42
#: 5913c939e1864808bda27db3841c5b9f
msgid "You want to store your birth date that is 30 bytes long in your datastore so you need to send an operation that will create a key in your datastore using a SC. This operation will cost you in storage costs at least 0.00025 * (10 + 30) = 0.01 Massa."
msgstr ""

#: ../../technical-doc/storage-costs.rst:46
#: 60ec8e7435ef49a59c4df074bf7267e9
msgid "Now you want to delete this entry on your datastore you will be refunded of the storage costs (0.02 Massa)."
msgstr ""

#: ../../technical-doc/storage-costs.rst:49
#: 14125d3440e74b5b83db9718522096b7
msgid "Notes"
msgstr ""

#: ../../technical-doc/storage-costs.rst:51
#: 87a921a158f140a88f435f6a872059d8
msgid "In case of refund of the storage costs, after realeasing space, the address reimbursed is the one that calls the ABI, possibly different from the one that paid for this storage."
msgstr ""

#: ../../technical-doc/storage-costs.rst:54
#: 21152fd341d546aeaa1197807080068a
msgid "In the case of a `CallSC` operation, the storage costs are paid by the SC."
msgstr ""

#: ../../technical-doc/storage-costs.rst:56
#: 54f43bcc1b8440a69b2952c058f06992
msgid "If you are a SC developer and you want your users to pay for the storage costs of your smart contract you can use the coins that are passed by the `coins` parameter of CallSC. You can also save their address in your datastore in order to refund them later."
msgstr ""
